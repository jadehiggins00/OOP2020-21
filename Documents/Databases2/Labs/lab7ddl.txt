-- Generated by Oracle SQL Developer Data Modeler 20.2.0.167.1538
--   at:        2020-11-06 15:23:00 GMT
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g



DROP TABLE artist CASCADE CONSTRAINTS;

DROP TABLE artstyle CASCADE CONSTRAINTS;

DROP TABLE arttype CASCADE CONSTRAINTS;

DROP TABLE artwork CASCADE CONSTRAINTS;

DROP TABLE custartist CASCADE CONSTRAINTS;

DROP TABLE custartstyle CASCADE CONSTRAINTS;

DROP TABLE customer CASCADE CONSTRAINTS;

-- predefined type, no DDL - MDSYS.SDO_GEOMETRY

-- predefined type, no DDL - XMLTYPE

CREATE TABLE artist (
    artistid          NUMBER(7) NOT NULL,
    name              VARCHAR2 
--  ERROR: VARCHAR2 size not specified 
     NOT NULL,
    age               NUMBER(3),
    style_of_art      VARCHAR2 
--  ERROR: VARCHAR2 size not specified 
    ,
    artstyle_styleid  NUMBER(7) NOT NULL
);

ALTER TABLE artist ADD CONSTRAINT artist_pk PRIMARY KEY ( artistid );

CREATE TABLE artstyle (
    styleid    NUMBER(7) NOT NULL,
    styledesc  VARCHAR2 
--  ERROR: VARCHAR2 size not specified 
                    
    );

ALTER TABLE artstyle ADD CONSTRAINT artstyle_pk PRIMARY KEY ( styleid );

CREATE TABLE arttype (
    arttypeid    NUMBER(7) NOT NULL,
    description  VARCHAR2 
--  ERROR: VARCHAR2 size not specified 
                    
    );

ALTER TABLE arttype ADD CONSTRAINT arttype_pk PRIMARY KEY ( arttypeid );

CREATE TABLE artwork (
    artworkid          NUMBER(7) NOT NULL,
    title              VARCHAR2 
--  ERROR: VARCHAR2 size not specified 
     NOT NULL,
    type_of_work       VARCHAR2 
--  ERROR: VARCHAR2 size not specified 
     NOT NULL,
    price              NUMBER(9, 2) NOT NULL,
    arttype_arttypeid  NUMBER(7) NOT NULL
);

ALTER TABLE artwork ADD CONSTRAINT artwork_pk PRIMARY KEY ( artworkid );

CREATE TABLE custartist (
    customer_custid  NUMBER(7) NOT NULL,
    artist_artistid  NUMBER(7) NOT NULL
);

ALTER TABLE custartist ADD CONSTRAINT custartist_pk PRIMARY KEY ( customer_custid,
                                                                  artist_artistid );

CREATE TABLE custartstyle (
    customer_custid   NUMBER(7) NOT NULL,
    artstyle_styleid  NUMBER(7) NOT NULL
);

ALTER TABLE custartstyle ADD CONSTRAINT custartstyle_pk PRIMARY KEY ( customer_custid,
                                                                      artstyle_styleid );

CREATE TABLE customer (
    custid       NUMBER(7) NOT NULL,
    name         VARCHAR2 
--  ERROR: VARCHAR2 size not specified 
    ,
    address      VARCHAR2 
--  ERROR: VARCHAR2 size not specified 
    ,
    amountspent  NUMBER(9, 2)
);

ALTER TABLE customer ADD CONSTRAINT customer_pk PRIMARY KEY ( custid );

ALTER TABLE artist
    ADD CONSTRAINT artist_artstyle_fk FOREIGN KEY ( artstyle_styleid )
        REFERENCES artstyle ( styleid );

ALTER TABLE artwork
    ADD CONSTRAINT artwork_arttype_fk FOREIGN KEY ( arttype_arttypeid )
        REFERENCES arttype ( arttypeid );

ALTER TABLE custartist
    ADD CONSTRAINT custartist_artist_fk FOREIGN KEY ( artist_artistid )
        REFERENCES artist ( artistid );

ALTER TABLE custartist
    ADD CONSTRAINT custartist_customer_fk FOREIGN KEY ( customer_custid )
        REFERENCES customer ( custid );

ALTER TABLE custartstyle
    ADD CONSTRAINT custartstyle_artstyle_fk FOREIGN KEY ( artstyle_styleid )
        REFERENCES artstyle ( styleid );

ALTER TABLE custartstyle
    ADD CONSTRAINT custartstyle_customer_fk FOREIGN KEY ( customer_custid )
        REFERENCES customer ( custid );



-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                             7
-- CREATE INDEX                             0
-- ALTER TABLE                             13
-- CREATE VIEW                              0
-- ALTER VIEW                               0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE MATERIALIZED VIEW LOG             0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- REDACTION POLICY                         0
-- 
-- ORDS DROP SCHEMA                         0
-- ORDS ENABLE SCHEMA                       0
-- ORDS ENABLE OBJECT                       0
-- 
-- ERRORS                                   8
-- WARNINGS                                 0